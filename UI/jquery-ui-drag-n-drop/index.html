<!DOCTYPE html>
<html>

	<head>
		<link rel="stylesheet" href="../lib/bootstrap/bootstrap-grid.min.css">
		<link rel="stylesheet" href="../lib/bootstrap/bootstrap-reboot.min.css">
		<link rel="stylesheet" href="../lib/bootstrap/bootstrap.min.css">
		
		<link rel="stylesheet" href="../lib/jquery-ui/jquery-ui.min.css">
	
		<style>
			.column {
				min-height: 80vh;
				border: 1px solid blue;
				float: left;
			}
		</style>
	</head>

	<body>

		<div class="container-fluid">
			<div class="col-6 d-flex flex-row justify-content-left flex-wrap align-items-start p-2 column" id="column-a">				
				<img src="../test-images/small/rectangle/small_1.jpg" class="draggable-column-a" style="z-index: 1;">
				<img src="../test-images/small/rectangle/small_2.jpg" class="draggable-column-a" style="z-index: 2;">
				<img src="../test-images/small/rectangle/small_3.jpg" class="draggable-column-a" style="z-index: 3;">
				<img src="../test-images/small/rectangle/small_4.jpg" class="draggable-column-a" style="z-index: 4;">
				<img src="../test-images/small/rectangle/small_5.jpg" class="draggable-column-a" style="z-index: 5;">
				<img src="../test-images/small/rectangle/small_6.jpg" class="draggable-column-a" style="z-index: 6;">
			</div>

			<div class="col-6 d-flex flex-row justify-content-left flex-wrap align-items-start column" id="column-b">

			</div>
		</div>

		<script src="../lib/jquery/jquery-v3.4.0.js"></script>
		<script src="../lib/jquery-ui/jquery-ui.min.js"></script>

		<script src="../lib/bootstrap/bootstrap.bundle.min.js"></script>

		<script>

			function addDroppedItem($container, $item) {
				$item.fadeOut(function() {
					$item.appendTo( $container )
						.fadeIn()
						.css({
							"left": "",
							"top": ""
						});
				});
			}

			$( function() {

				var dragableConfig = { 
					snap: true,
					revert: "invalid",
					cursor: "pointer",
					grid: [ 40, 40 ]
				}

				var dropableConfig = {						
						classes: {
							"ui-droppable-active": "custom-state-active",
							"ui-droppable-hover": "ui-state-hover"
						},
						drop: function( event, ui ) {
							$(ui.draggable).toggleClass("draggable-column-a");
							$(ui.draggable).toggleClass("draggable-column-b");
							addDroppedItem(event.target, ui.draggable);
						}
					}

				$(".draggable-column-a").draggable(dragableConfig);

				$(".draggable-column-b").draggable(dragableConfig);

				$( "#column-a" ).droppable(Object.assign({}, { accept: ".draggable-column-b" }, dropableConfig));

				$( "#column-b" ).droppable(Object.assign({}, { accept: ".draggable-column-a" }, dropableConfig));
			});
		</script>
	</body>
</html>
