<!DOCTYPE html>
<html>
	<head>
		<!-- <jquery> -->
		<script src="./lib/jquery/jquery-v3.4.0.js"></script>
		<!-- </jquery> -->
		
		<!-- <jquery-ui> -->
		<script src="./lib/jquery-ui/jquery-ui.min.js"></script>
		<link rel="stylesheet" href="./lib/jquery-ui/jquery-ui.min.css">
		<link rel="stylesheet" href="./lib/jquery-ui/jquery-ui.structure.min.css">
		<link rel="stylesheet" href="./lib/jquery-ui/jquery-ui.theme.min.css">
		<!-- </jquery-ui> -->

		<!-- <bootstrap> -->
		<script src="./lib/bootstrap/bootstrap.bundle.min.js"></script>
		<script src="./lib/bootstrap/bootstrap.min.js"></script>

		<link rel="stylesheet" href="./lib/bootstrap/bootstrap.min.css">
		<link rel="stylesheet" href="./lib/bootstrap/bootstrap-grid.min.css">
		<link rel="stylesheet" href="./lib/bootstrap/bootstrap-reboot.min.css">
		<!-- </bootstrap> -->

		<style>
			.gallery {
				/* max-width: 920px; */
				margin: 0 auto;
				padding-left: 2px;
				padding-bottom: 2px; 
				border: 1px solid grey; 
				margin: 5px 5px;
			}

			.gallery .gallery-header {
				text-align: center;
			}

			.gallery .gallery-header h4 {
				margin-left: 25px;
			}

			.gallery .gallery-body {
				display: grid;
				grid-template-columns: 250px 250px 250px;
				justify-content: center;
			}

			@media screen and (max-width: 992px) {
				.gallery .gallery-body {
					display: grid;
					grid-template-columns: 250px 250px;
				}
			}

			.gallery .gallery-body img {
				margin-bottom: 2px;
				justify-self: center;
				align-self: center;
			}

			.portrait-img {
				max-height: 240px;
			}

			.landscape-img {
				max-width: 240px;
			}
		</style>
</head>
<body>
	<div class="container">
		<div class="gallery">
			<div class="gallery-header">
				<h4>Mixed landscape and portrait</h4>
			</div>
			<div class="gallery-body">
				<img src="./images/thumbs/1457081771_t.jpg">
				<img src="./images/thumbs/570272_t.jpg">
				<img src="./images/thumbs/9d7f0c19c77330eafebdd607558c4c57_t.jpg">
				<img src="./images/thumbs/JEF_059119_1600x2560.jpg">
				<img src="./images/thumbs/rock_hills_trees_rocks_105901_1920x1080_t.jpg">
			</div>
			<div class="gallery-footer">
				<a href="#">Link to original source</a>
			</div>
		</div>

		<div class="gallery">
			<div class="gallery-header">
				<h4> Landscape only</h4>
			</div>
			<div class="gallery-body">
				<img src="./images/thumbs/570272_t.jpg">
				<img src="./images/thumbs/9d7f0c19c77330eafebdd607558c4c57_t.jpg">
				<img src="./images/thumbs/rock_hills_trees_rocks_105901_1920x1080_t.jpg">
			</div>
			<div class="gallery-footer">
				<a href="#">Link to original source</a>
			</div>
		</div>

		<div class="gallery">
			<div class="gallery-header">
				<h4>Portrait only</h4>
			</div>
			<div class="gallery-body">
				<img src="./images/thumbs/1457081771_t.jpg">
				<img src="./images/thumbs/JEF_059119_1600x2560.jpg">
				<img src="./images/thumbs/1457081771_t.jpg">
			</div>
			<div class="gallery-footer">
				<a href="#">Link to original source</a>
			</div>
		</div>
	</div>

	<script>
		(function() {
			// classify by orientation
			var images = $('img');
			for(let i = 0; i < images.length; i++) {
				var img = images[i];
				if( img.height >img.width ) {
					img.classList.add("portrait-img");
				} else {
					img.classList.add("landscape-img");
				}
			}

			// sort by image orientation
			let galleries = $('.gallery-body');
			for(let i = 0; i < galleries.length; ++i) {
				let galleryImages = $('img', galleries[i]);

				for(let j = 0; j < galleryImages.length; ++j) {
					if( $(galleryImages[j]).hasClass("landscape-img") ) {
						$(galleries[i]).append(galleryImages[j]);
					}
				}
			}		
			
		})()
	</script>
</body>
</html>