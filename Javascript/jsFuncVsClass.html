<!DOCTYPE html>
<html>
<body>
	<script>

	function entity1() {
		// this
		console.log(this);
		this.prop1 = "Hello world";
		
		// returning function is tricky
		// using with 'new' an object will be returned
		// othervise a function will be returned
		return new function() {
			this.prop2 = 123;
			console.log(this)
		}
	}
	
	function entity2() {
		// this
		console.log(this);
		this.prop1 = "Hello world";
		var prop2 = "halika";
		
		return function(val) {
			prop2 = val;
			console.log(prop2);
			console.log(this);
		}
	}
	
	var entity3 = new function() {
		this.s = 123;
		<!-- return function() { -->
			<!-- console.log("paradox") -->
		<!-- } -->
	}
	
	var obj1 = new entity1();
	var obj2 = new entity2();
	
	// this does not work, throws error
	// var obj2 = {
		// this.prop1 = 123
	// }
		
	</script>
</body>
</html>